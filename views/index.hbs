<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="icon" type="image/x-icon" href="/stars.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <title>zodiac</title>
</head>
<body>
<header class="d-flex align-items-center justify-content-center my-4">
    <img src="/res/Oroscopo.png" alt="starts" height="200" width="200" class="">
    <h1>Calculador de signos</h1>

</header>
  <main class="row mx-auto align-items-center justify-content-center">

    <form class="col-md-6 card ">
      <div class="mb-3 justify-content-center align-items-center">
        <label class="form-label" for="date">Fecha de nacimiento</label>
        <input type="date" name="date" id="date" class="form-control" required>
      </div>
      <button type="submit" class="btn btn-primary">Enviar</button>
    </form>
</main>

<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script>


  const form = document.querySelector('form');
  form.addEventListener('submit', (event) => {
    event.preventDefault();
    const date = document.querySelector('#date').value;
    const url =  `/zodiac?birthDate=${date}`;
    const options = {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json'
     }
    };
    fetch(url, options)
      .then(response => response.json())
      .then(zodiac => {
        swal({
          title: "Tu signo es",
          text:  `${zodiac.sign} ${zodiac.name}`,
          icon: "success",
        });
      });
  });
</script>
</body>
</html>